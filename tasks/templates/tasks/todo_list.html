{% extends 'tasks/base.html' %}

{% block content %}
<div class="todo-header">
    <h2>My Tasks</h2>
    <a href="{% url 'todo-add' %}" class="btn btn-primary">Add Task</a>
</div>

<ul class="todo-list">
    {% for task in tasks %}
    <li class="todo-item {% if task.completed %}completed{% endif %} priority-{{ task.priority|lower }}">
        <div class="todo-content">
            <a href="{% url 'todo-toggle' task.pk %}" class="toggle-check">
                {% if task.completed %}✅{% else %}⬜{% endif %}
            </a>
            <div class="todo-details">
                <span class="todo-title">
                    {{ task.title }}
                    <span class="badge badge-{{ task.priority|lower }}">{{ task.get_priority_display }}</span>
                </span>
                {% if task.due_date %}
                <span class="todo-date">Due: {{ task.due_date|date:"M d, Y H:i" }}</span>
                {% endif %}
            </div>
        </div>
        <div class="todo-actions">
            <a href="{% url 'todo-edit' task.pk %}" class="btn btn-sm btn-outline">Edit</a>
            <a href="{% url 'todo-delete' task.pk %}" class="btn btn-sm btn-danger">Delete</a>
        </div>
    </li>
    {% empty %}
    <li class="empty-state">No tasks yet. Add one!</li>
    {% endfor %}
</ul>
{% endblock %}